{
  "last_node_id": 185,
  "last_link_id": 379,
  "nodes": [
    {
      "id": 70,
      "type": "ADE_AnimateDiffUniformContextOptions",
      "pos": [
        -437.3820725771721,
        59.98746062132486
      ],
      "size": {
        "0": 271.674560546875,
        "1": 154
      },
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTEXT_OPTIONS",
          "type": "CONTEXT_OPTIONS",
          "links": [
            156
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONTEXT_OPTIONS"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffUniformContextOptions"
      },
      "widgets_values": [
        16,
        1,
        4,
        "uniform",
        false
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 114,
      "type": "Note",
      "pos": [
        -416.5418101189063,
        -1103.5925028987497
      ],
      "size": {
        "0": 228.73175048828125,
        "1": 210.84397888183594
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "U=上                                 Curve=曲线\nD=下                                 Horizon=平移\nL=左                                  Shake=抖动\nR=右\nO=大\nI=小\nRound=绕\nSpin=旋转\n"
      ],
      "color": "#432",
      "bgcolor": "#653",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 101,
      "type": "CR Apply LoRA Stack",
      "pos": [
        -433,
        598
      ],
      "size": {
        "0": 315.940673828125,
        "1": 72.32636260986328
      },
      "flags": {
        "pinned": false
      },
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 198,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 200,
          "label": "clip"
        },
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": 196,
          "label": "lora_stack"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            330,
            342
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "MODEL"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            328
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "CLIP"
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR Apply LoRA Stack"
      },
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 158,
      "type": "Anything Everywhere3",
      "pos": [
        -84,
        449
      ],
      "size": {
        "0": 210,
        "1": 66
      },
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "VAE",
          "type": "*",
          "link": 329,
          "label": "anything",
          "color_on": "#FF6E6E"
        },
        {
          "name": "MODEL",
          "type": "*",
          "link": 342,
          "label": "anything2",
          "color_on": "#B39DDB",
          "slot_index": 1
        },
        {
          "name": "CLIP",
          "type": "*",
          "link": 328,
          "label": "anything3",
          "color_on": "#FFD500"
        }
      ],
      "properties": {
        "Node name for S&R": "Anything Everywhere3",
        "group_restricted": false,
        "color_restricted": false
      }
    },
    {
      "id": 148,
      "type": "MiDaS-DepthMapPreprocessor",
      "pos": [
        725.816936454388,
        802.0863061770053
      ],
      "size": [
        330.8905322346102,
        106
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 344,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            279
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "MiDaS-DepthMapPreprocessor"
      },
      "widgets_values": [
        6.283185307179586,
        0.1,
        512
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 122,
      "type": "LineArtPreprocessor",
      "pos": [
        1185.816936454388,
        805.0863061770053
      ],
      "size": [
        326.5868608051328,
        82
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 345,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            250
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "LineArtPreprocessor"
      },
      "widgets_values": [
        "disable",
        512
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 163,
      "type": "Reroute",
      "pos": [
        639,
        802
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 343
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            344,
            345,
            378
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 88,
      "type": "CLIPTextEncode",
      "pos": [
        3513.2091246758646,
        461.8295834645851
      ],
      "size": {
        "0": 322.3669128417969,
        "1": 128.45887756347656
      },
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null,
          "label": "clip"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            348
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONDITIONING"
        }
      ],
      "title": "Modify Prompt",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "a girl smiling at the viewer, masterpiece, best quality, ultra realistic, photorealistic,RAW photo, high quality, film grain,\n"
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        "a girl smiling at the viewer, masterpiece, best quality, ultra realistic, photorealistic,RAW photo, high quality, film grain,\n"
      ]
    },
    {
      "id": 97,
      "type": "CLIPTextEncode",
      "pos": [
        3518.2091246758646,
        637.8295834645852
      ],
      "size": {
        "0": 322.2685546875,
        "1": 133.59613037109375
      },
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null,
          "label": "clip"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            349
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONDITIONING"
        }
      ],
      "title": "Modify Prompt",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(water mark,illustration, worst quality, monochrome,low quality, black and white,normal quality, illustration, 2d, painting, cartoons, sketch, worst quality, low quality, watermark, amateur drawing,text,)，\n"
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        "(water mark,illustration, worst quality, monochrome,low quality, black and white,normal quality, illustration, 2d, painting, cartoons, sketch, worst quality, low quality, watermark, amateur drawing,text,)，\n"
      ]
    },
    {
      "id": 87,
      "type": "ToBasicPipe",
      "pos": [
        3843.2091246758646,
        335.8295834645851
      ],
      "size": {
        "0": 274.1410217285156,
        "1": 106
      },
      "flags": {},
      "order": 22,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null,
          "slot_index": 0,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": null,
          "slot_index": 1,
          "label": "clip"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 348,
          "slot_index": 3,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 349,
          "slot_index": 4,
          "label": "negative"
        }
      ],
      "outputs": [
        {
          "name": "basic_pipe",
          "type": "BASIC_PIPE",
          "links": [
            180
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "basic_pipe"
        }
      ],
      "properties": {
        "Node name for S&R": "ToBasicPipe"
      },
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 91,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        3868.2091246758646,
        632.8295834645852
      ],
      "size": {
        "0": 290.32745361328125,
        "1": 78
      },
      "flags": {},
      "order": 4,
      "mode": 4,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            186
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "BBOX_DETECTOR"
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            188
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "SEGM_DETECTOR"
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 92,
      "type": "SAMLoader",
      "pos": [
        3876.2091246758646,
        753.8295834645852
      ],
      "size": {
        "0": 278.1067199707031,
        "1": 82
      },
      "flags": {},
      "order": 5,
      "mode": 4,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            187
          ],
          "shape": 3,
          "label": "SAM_MODEL"
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 104,
      "type": "KSamplerAdvanced",
      "pos": [
        2162,
        393.00452413000613
      ],
      "size": {
        "0": 315,
        "1": 334
      },
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null,
          "label": "model"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 224,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 225,
          "label": "negative"
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 355,
          "slot_index": 3,
          "label": "latent_image"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            227
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "LATENT"
        }
      ],
      "properties": {
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "enable",
        416323194964264,
        "randomize",
        20,
        8,
        "euler",
        "normal",
        0,
        10000,
        "disable"
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 60,
      "type": "ImpactInt",
      "pos": [
        -690.2512556484194,
        -787.774360537639
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            317,
            318,
            356
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "INT"
        }
      ],
      "title": "总帧数",
      "properties": {
        "Node name for S&R": "ImpactInt"
      },
      "widgets_values": [
        24
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 166,
      "type": "EmptyLatentImage",
      "pos": [
        2165,
        775.0045241300061
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "batch_size",
          "type": "INT",
          "link": 357,
          "widget": {
            "name": "batch_size"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            355
          ],
          "shape": 3,
          "label": "LATENT"
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        512,
        512,
        1
      ],
      "serialize_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 167,
      "type": "Reroute",
      "pos": [
        2067,
        -790
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 356,
          "widget": {
            "name": "value"
          }
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            357
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 159,
      "type": "VAELoader",
      "pos": [
        -432,
        355
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            329
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "vae-ft-mse-840000-ema-pruned.ckpt"
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 64,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -433.7730839099174,
        455.10760677299777
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            198
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "MODEL"
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            200
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "CLIP"
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": null,
          "shape": 3,
          "label": "VAE"
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "majicMIX realistic(v7)"
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        "192_3750_4424@7c819b6d13.safetensors"
      ]
    },
    {
      "id": 146,
      "type": "ControlNetLoader",
      "pos": [
        731.816936454388,
        699.0863061770053
      ],
      "size": [
        325.5788186857694,
        58
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            273
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONTROL_NET"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11f1p_sd15_depth.pth"
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 121,
      "type": "ControlNetLoader",
      "pos": [
        1186.816936454388,
        703.0863061770053
      ],
      "size": [
        332.5669511259546,
        58
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            245
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONTROL_NET"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_lineart.pth"
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 108,
      "type": "ControlNetLoader",
      "pos": [
        1651.816936454388,
        702.0863061770053
      ],
      "size": [
        335.9229269456787,
        58
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            228
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONTROL_NET"
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "control_v11p_sd15_openpose.pth"
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 48,
      "type": "Load Motion Camera Preset",
      "pos": [
        -467.25125564842,
        -596.7743605376392
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "outputs": [
        {
          "name": "POINTS",
          "type": "STRING",
          "links": [
            141
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "POINTS"
        }
      ],
      "properties": {
        "Node name for S&R": "Load Motion Camera Preset"
      },
      "widgets_values": [
        "Round-ZoomIn"
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null
      ]
    },
    {
      "id": 165,
      "type": "Reroute",
      "pos": [
        4089.2091246758646,
        406.8295834645851
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 50,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 352
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            353,
            358
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 90,
      "type": "ImpactSimpleDetectorSEGS_for_AD",
      "pos": [
        4177.209124675865,
        614.8295834645852
      ],
      "size": {
        "0": 319.20001220703125,
        "1": 334
      },
      "flags": {},
      "order": 52,
      "mode": 4,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 186,
          "label": "bbox_detector"
        },
        {
          "name": "image_frames",
          "type": "IMAGE",
          "link": 353,
          "label": "image_frames"
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 187,
          "slot_index": 2,
          "label": "sam_model_opt"
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 188,
          "label": "segm_detector_opt"
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            178
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "SEGS"
        }
      ],
      "properties": {
        "Node name for S&R": "ImpactSimpleDetectorSEGS_for_AD"
      },
      "widgets_values": [
        0.5,
        10,
        3,
        50,
        0.5,
        10,
        0,
        0.7,
        "Pivot SEGS",
        "Combined mask"
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 85,
      "type": "SEGSDetailerForAnimateDiff",
      "pos": [
        4525.209124675865,
        595.8295834645852
      ],
      "size": {
        "0": 302.3999938964844,
        "1": 358
      },
      "flags": {},
      "order": 54,
      "mode": 4,
      "inputs": [
        {
          "name": "image_frames",
          "type": "IMAGE",
          "link": 359,
          "label": "image_frames"
        },
        {
          "name": "segs",
          "type": "SEGS",
          "link": 178,
          "slot_index": 1,
          "label": "segs"
        },
        {
          "name": "basic_pipe",
          "type": "BASIC_PIPE",
          "link": 350,
          "label": "basic_pipe"
        },
        {
          "name": "refiner_basic_pipe_opt",
          "type": "BASIC_PIPE",
          "link": null,
          "slot_index": 3,
          "label": "refiner_basic_pipe_opt"
        }
      ],
      "outputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "links": [
            189
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "segs"
        }
      ],
      "properties": {
        "Node name for S&R": "SEGSDetailerForAnimateDiff"
      },
      "widgets_values": [
        256,
        true,
        1024,
        341554970484086,
        "randomize",
        20,
        8,
        "dpmpp_2m_sde",
        "karras",
        0.6,
        0.4
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 93,
      "type": "SEGSPaste",
      "pos": [
        4896.209124675865,
        576.8295834645852
      ],
      "size": {
        "0": 308.4931945800781,
        "1": 122
      },
      "flags": {},
      "order": 56,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 361,
          "label": "image"
        },
        {
          "name": "segs",
          "type": "SEGS",
          "link": 189,
          "label": "segs"
        },
        {
          "name": "ref_image_opt",
          "type": "IMAGE",
          "link": null,
          "label": "ref_image_opt"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            351
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "SEGSPaste"
      },
      "widgets_values": [
        53,
        255
      ],
      "color": "#332922",
      "bgcolor": "#593930",
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 168,
      "type": "Reroute",
      "pos": [
        4437.209124675865,
        404.8295834645851
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 53,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 358
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            359,
            360
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 86,
      "type": "FromBasicPipe_v2",
      "pos": [
        4237.209124675865,
        331.8295834645851
      ],
      "size": {
        "0": 272.1410217285156,
        "1": 126
      },
      "flags": {},
      "order": 28,
      "mode": 4,
      "inputs": [
        {
          "name": "basic_pipe",
          "type": "BASIC_PIPE",
          "link": 180,
          "label": "basic_pipe"
        }
      ],
      "outputs": [
        {
          "name": "basic_pipe",
          "type": "BASIC_PIPE",
          "links": [
            350
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "basic_pipe"
        },
        {
          "name": "model",
          "type": "MODEL",
          "links": null,
          "shape": 3,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "links": [],
          "shape": 3,
          "slot_index": 2,
          "label": "clip"
        },
        {
          "name": "vae",
          "type": "VAE",
          "links": null,
          "shape": 3,
          "label": "vae"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": null,
          "shape": 3,
          "label": "negative"
        }
      ],
      "properties": {
        "Node name for S&R": "FromBasicPipe_v2"
      },
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 169,
      "type": "Reroute",
      "pos": [
        4813.209124675865,
        409.8295834645851
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 55,
      "mode": 4,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 360
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            361
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 72,
      "type": "ADE_AnimateDiffLoaderWithContext",
      "pos": [
        -117.38207257717464,
        29.98746062132471
      ],
      "size": {
        "0": 342.5999755859375,
        "1": 210
      },
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 330,
          "slot_index": 0,
          "label": "model"
        },
        {
          "name": "context_options",
          "type": "CONTEXT_OPTIONS",
          "link": 156,
          "slot_index": 1,
          "label": "context_options"
        },
        {
          "name": "motion_lora",
          "type": "MOTION_LORA",
          "link": null,
          "label": "motion_lora"
        },
        {
          "name": "motion_model_settings",
          "type": "MOTION_MODEL_SETTINGS",
          "link": null,
          "label": "motion_model_settings"
        },
        {
          "name": "sample_settings",
          "type": "sample_settings",
          "link": null,
          "label": "sample_settings"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            331
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "MODEL"
        }
      ],
      "properties": {
        "Node name for S&R": "ADE_AnimateDiffLoaderWithContext"
      },
      "widgets_values": [
        "v3_sd15_mm.ckpt",
        "sqrt_linear (AnimateDiff)",
        0.999,
        false
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 49,
      "type": "Load Motion Traj Preset",
      "pos": [
        -470.25125564842,
        -469.7743605376391
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "frame_length",
          "type": "INT",
          "link": 318,
          "widget": {
            "name": "frame_length"
          },
          "label": "frame_length"
        }
      ],
      "outputs": [
        {
          "name": "POINTS",
          "type": "STRING",
          "links": [
            142
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "POINTS"
        }
      ],
      "properties": {
        "Node name for S&R": "Load Motion Traj Preset"
      },
      "widgets_values": [
        "curve_4",
        16
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 56,
      "type": "Load Motionctrl Checkpoint",
      "pos": [
        -467,
        -789
      ],
      "size": {
        "0": 315,
        "1": 142
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "frame_length",
          "type": "INT",
          "link": 317,
          "widget": {
            "name": "frame_length"
          },
          "label": "frame_length"
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "MOTIONCTRL",
          "links": [
            127,
            326
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "EMBEDDER",
          "links": [
            325
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "clip"
        },
        {
          "name": "vae",
          "type": "VAE",
          "links": [
            324
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "vae"
        },
        {
          "name": "ddim_sampler",
          "type": "SAMPLER",
          "links": [
            323
          ],
          "shape": 3,
          "slot_index": 3,
          "label": "ddim_sampler"
        }
      ],
      "properties": {
        "Node name for S&R": "Load Motionctrl Checkpoint"
      },
      "widgets_values": [
        "motionctrl.pth",
        16
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 66,
      "type": "CLIPTextEncode",
      "pos": [
        204,
        606
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null,
          "label": "clip"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            282
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONDITIONING"
        }
      ],
      "title": "Negative Prompts",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "embedding:EasyNegativeV2, embedding:ng_deepnegative_v1_75t, "
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        "embedding:EasyNegativeV2, embedding:ng_deepnegative_v1_75t, "
      ]
    },
    {
      "id": 138,
      "type": "ImageScale",
      "pos": [
        324.73779857344874,
        -326.11751543085427
      ],
      "size": {
        "0": 315,
        "1": 130
      },
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 354,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            343
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScale"
      },
      "widgets_values": [
        "nearest-exact",
        512,
        512,
        "disabled"
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 100,
      "type": "CR LoRA Stack",
      "pos": [
        -435,
        719
      ],
      "size": {
        "0": 322.5859069824219,
        "1": 342
      },
      "flags": {
        "pinned": false
      },
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null,
          "label": "lora_stack"
        }
      ],
      "outputs": [
        {
          "name": "LORA_STACK",
          "type": "LORA_STACK",
          "links": [
            196
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "LORA_STACK"
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "slot_index": 1,
          "label": "show_help"
        }
      ],
      "properties": {
        "Node name for S&R": "CR LoRA Stack"
      },
      "widgets_values": [
        "Off",
        "Add More Details - Detail Enhancer / Twe(v1)",
        0.5,
        1,
        "Off",
        "None",
        0.6,
        1,
        "Off",
        "None",
        1,
        1
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        "3402_5137_6006@d9cf2f88de.safetensors",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 58,
      "type": "Motionctrl Cond",
      "pos": [
        -139.2512556484201,
        -704.7743605376392
      ],
      "size": {
        "0": 400,
        "1": 320
      },
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MOTIONCTRL",
          "link": 127,
          "label": "model"
        },
        {
          "name": "camera",
          "type": "STRING",
          "link": 141,
          "widget": {
            "name": "camera"
          },
          "label": "camera"
        },
        {
          "name": "traj",
          "type": "STRING",
          "link": 142,
          "widget": {
            "name": "traj"
          },
          "label": "traj"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            134
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            135
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "negative"
        },
        {
          "name": "traj_list",
          "type": "TRAJ_LIST",
          "links": [
            136
          ],
          "shape": 3,
          "slot_index": 2,
          "label": "traj_list"
        },
        {
          "name": "rt_list",
          "type": "RT_LIST",
          "links": [
            137
          ],
          "shape": 3,
          "slot_index": 3,
          "label": "rt_list"
        },
        {
          "name": "traj",
          "type": "TRAJ_FEATURES",
          "links": [
            138
          ],
          "shape": 3,
          "slot_index": 4,
          "label": "traj"
        },
        {
          "name": "rt",
          "type": "RT",
          "links": [
            139
          ],
          "shape": 3,
          "slot_index": 5,
          "label": "rt"
        },
        {
          "name": "noise_shape",
          "type": "NOISE_SHAPE",
          "links": [
            140
          ],
          "shape": 3,
          "slot_index": 6,
          "label": "noise_shape"
        },
        {
          "name": "context_overlap",
          "type": "INT",
          "links": null,
          "shape": 3,
          "label": "context_overlap"
        }
      ],
      "properties": {
        "Node name for S&R": "Motionctrl Cond"
      },
      "widgets_values": [
        "A girl, run, Short skirt, high heels, long hair, long hair，European style architecture, park, church, outdoor,",
        "[[1,0,0,0,0,1,0,0,0,0,1,0.2]]",
        "[[117, 102]]",
        "control both camera and object motion",
        0
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        "A girl, run, Short skirt, high heels, long hair, long hair，European style architecture, park, church, outdoor,",
        "[[1,0,0,0,0,1,0,0,0,0,1,0.2]]",
        "[[117, 102]]",
        null,
        null
      ]
    },
    {
      "id": 65,
      "type": "CLIPTextEncode",
      "pos": [
        201,
        369
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": null,
          "label": "clip"
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            280
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "CONDITIONING"
        }
      ],
      "title": "Positive Prompts",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "A girl, run, Short skirt, high heels, long hair, long hair, European style architecture, park, church, outdoor, masterpiece, best quality, ultra realistic, photosensitive, RAW photo, high quality"
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        "A girl, run, Short skirt, high heels, long hair, long hair, European style architecture, park, church, outdoor, masterpiece, best quality, ultra realistic, photosensitive, RAW photo, high quality"
      ]
    },
    {
      "id": 61,
      "type": "VHS_VideoCombine",
      "pos": [
        679,
        -792
      ],
      "size": [
        467.16235794464046,
        711.1623579446405
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 146,
          "label": "images"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "label": "audio"
        }
      ],
      "outputs": [
        {
          "name": "GIF",
          "type": "GIF",
          "links": null,
          "shape": 3,
          "label": "GIF"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 12,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "https://boss.aikobo.cn/aigc-public/c680b146b40ca71ff69820e3de4b790871677db8a005b839304c4ba97cadb983.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/mp4"
          }
        }
      },
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null,
        "AnimateDiff",
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 173,
      "type": "IPAdapterModelLoader",
      "pos": [
        2926.6695077075206,
        -411.42982858210354
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "outputs": [
        {
          "name": "IPADAPTER",
          "type": "IPADAPTER",
          "links": [
            362
          ],
          "shape": 3,
          "label": "IPADAPTER"
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterModelLoader"
      },
      "widgets_values": [
        "ip-adapter-faceid-plusv2_sd15.bin"
      ],
      "serialize_values": [
        null
      ]
    },
    {
      "id": 174,
      "type": "CLIPVisionLoader",
      "pos": [
        2928.6695077075206,
        -311.42982858210354
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            363
          ],
          "shape": 3,
          "label": "CLIP_VISION"
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPVisionLoader"
      },
      "widgets_values": [
        "ip_adaptor_sd15_pytorch_model.bin"
      ],
      "serialize_values": [
        null
      ]
    },
    {
      "id": 175,
      "type": "InsightFaceLoader",
      "pos": [
        2929.6695077075206,
        -210.42982858210343
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "outputs": [
        {
          "name": "INSIGHTFACE",
          "type": "INSIGHTFACE",
          "links": [
            364
          ],
          "shape": 3,
          "label": "INSIGHTFACE"
        }
      ],
      "properties": {
        "Node name for S&R": "InsightFaceLoader"
      },
      "widgets_values": [
        "CUDA"
      ],
      "serialize_values": [
        null
      ]
    },
    {
      "id": 176,
      "type": "LoadImage",
      "pos": [
        2935.0845322889304,
        -107.14539999525127
      ],
      "size": [
        307.2826097017037,
        252.14417535729444
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            365,
            371
          ],
          "shape": 3,
          "label": "IMAGE"
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "label": "MASK"
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/b5881c40e4ded2f7609ba4fec4a60f6467898756.png@1536w_1536h_0e",
        "image"
      ],
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 178,
      "type": "UltralyticsDetectorProvider",
      "pos": [
        3301.08453228893,
        -69.14539999525127
      ],
      "size": {
        "0": 315,
        "1": 78
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "outputs": [
        {
          "name": "BBOX_DETECTOR",
          "type": "BBOX_DETECTOR",
          "links": [
            367
          ],
          "shape": 3,
          "label": "BBOX_DETECTOR",
          "slot_index": 0
        },
        {
          "name": "SEGM_DETECTOR",
          "type": "SEGM_DETECTOR",
          "links": [
            368
          ],
          "shape": 3,
          "label": "SEGM_DETECTOR",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "UltralyticsDetectorProvider"
      },
      "widgets_values": [
        "bbox/face_yolov8m.pt"
      ],
      "serialize_values": [
        null
      ]
    },
    {
      "id": 180,
      "type": "SAMLoader",
      "pos": [
        3299.08453228893,
        52.85460000474863
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            370
          ],
          "shape": 3,
          "label": "SAM_MODEL",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth",
        "Prefer GPU"
      ],
      "serialize_values": [
        null,
        null
      ]
    },
    {
      "id": 177,
      "type": "ImpactSimpleDetectorSEGS",
      "pos": [
        3624.08453228893,
        -135.1453999952512
      ],
      "size": {
        "0": 315,
        "1": 310
      },
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "bbox_detector",
          "type": "BBOX_DETECTOR",
          "link": 367,
          "label": "bbox_detector"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 371,
          "label": "image",
          "slot_index": 1
        },
        {
          "name": "sam_model_opt",
          "type": "SAM_MODEL",
          "link": 370,
          "label": "sam_model_opt",
          "slot_index": 2
        },
        {
          "name": "segm_detector_opt",
          "type": "SEGM_DETECTOR",
          "link": 368,
          "label": "segm_detector_opt"
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            372
          ],
          "shape": 3,
          "label": "SEGS",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImpactSimpleDetectorSEGS"
      },
      "widgets_values": [
        0.5,
        0,
        3,
        10,
        0.5,
        0,
        0,
        0.7,
        0
      ],
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 181,
      "type": "SegsToCombinedMask",
      "pos": [
        3738.08453228893,
        -179.14539999525124
      ],
      "size": {
        "0": 210,
        "1": 26
      },
      "flags": {
        "collapsed": true
      },
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "link": 372,
          "label": "segs"
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            373
          ],
          "shape": 3,
          "label": "MASK",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SegsToCombinedMask"
      }
    },
    {
      "id": 172,
      "type": "IPAdapterApplyFaceID",
      "pos": [
        3981.08453228893,
        -397.1453999952512
      ],
      "size": {
        "0": 315,
        "1": 326
      },
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "ipadapter",
          "type": "IPADAPTER",
          "link": 362,
          "label": "ipadapter",
          "slot_index": 0
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 363,
          "label": "clip_vision",
          "slot_index": 1
        },
        {
          "name": "insightface",
          "type": "INSIGHTFACE",
          "link": 364,
          "label": "insightface",
          "slot_index": 2
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 365,
          "label": "image",
          "slot_index": 3
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 376,
          "label": "model"
        },
        {
          "name": "attn_mask",
          "type": "MASK",
          "link": 373,
          "label": "attn_mask"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            374
          ],
          "shape": 3,
          "label": "MODEL",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IPAdapterApplyFaceID"
      },
      "widgets_values": [
        1,
        0,
        "original",
        0,
        1,
        false,
        1,
        false
      ],
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 171,
      "type": "LoraLoaderModelOnly",
      "pos": [
        3987.08453228893,
        -22.14539999525127
      ],
      "size": {
        "0": 315,
        "1": 82
      },
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 374,
          "label": "model"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "shape": 3,
          "label": "MODEL",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "ip-adapter-faceid-plusv2_sd15_lora(plusv2)",
        1
      ],
      "serialize_values": [
        "3295_4973_5831@8abff87a15.safetensors",
        null
      ]
    },
    {
      "id": 160,
      "type": "FreeU",
      "pos": [
        252.74764679633265,
        32.66780485365127
      ],
      "size": {
        "0": 314.6710510253906,
        "1": 130
      },
      "flags": {
        "collapsed": false
      },
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 331,
          "label": "model"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            375
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "MODEL"
        }
      ],
      "properties": {
        "Node name for S&R": "FreeU"
      },
      "widgets_values": [
        1.1,
        1.2,
        0.6,
        0.6
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 182,
      "type": "Reroute",
      "pos": [
        2836.0845322889304,
        27.854600004748715
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 375
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "MODEL",
          "links": [
            376
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      }
    },
    {
      "id": 183,
      "type": "DWPreprocessor",
      "pos": [
        1656,
        804
      ],
      "size": [
        326.7121386061424,
        198
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 378,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            377
          ],
          "shape": 3,
          "label": "IMAGE",
          "slot_index": 0
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null,
          "shape": 3,
          "label": "POSE_KEYPOINT"
        }
      ],
      "properties": {
        "Node name for S&R": "DWPreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "disable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384.onnx"
      ],
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 59,
      "type": "Motionctrl Sample Simple",
      "pos": [
        327.7487443515802,
        -784.7743605376393
      ],
      "size": {
        "0": 315,
        "1": 402
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MOTIONCTRL",
          "link": 326,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "EMBEDDER",
          "link": 325,
          "label": "clip"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 324,
          "label": "vae"
        },
        {
          "name": "ddim_sampler",
          "type": "SAMPLER",
          "link": 323,
          "label": "ddim_sampler"
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 134,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 135,
          "label": "negative"
        },
        {
          "name": "traj_list",
          "type": "TRAJ_LIST",
          "link": 136,
          "label": "traj_list"
        },
        {
          "name": "rt_list",
          "type": "RT_LIST",
          "link": 137,
          "label": "rt_list"
        },
        {
          "name": "traj",
          "type": "TRAJ_FEATURES",
          "link": 138,
          "label": "traj"
        },
        {
          "name": "rt",
          "type": "RT",
          "link": 139,
          "label": "rt"
        },
        {
          "name": "noise_shape",
          "type": "NOISE_SHAPE",
          "link": 140,
          "label": "noise_shape"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            146,
            354
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "Motionctrl Sample Simple"
      },
      "widgets_values": [
        20,
        1144,
        "increment",
        1,
        "false",
        false,
        false
      ],
      "color": "#223",
      "bgcolor": "#335",
      "serialize_values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 117,
      "type": "ACN_AdvancedControlNetApply",
      "pos": [
        1186,
        412
      ],
      "size": {
        "0": 342.5999755859375,
        "1": 246
      },
      "flags": {},
      "order": 46,
      "mode": 4,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 284,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 285,
          "label": "negative"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 245,
          "label": "control_net"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 250,
          "label": "image"
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "label": "mask_optional"
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "label": "timestep_kf"
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null,
          "label": "latent_kf_override"
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null,
          "label": "weights_override"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            256
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            257
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "negative"
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        1,
        0,
        1
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 142,
      "type": "ACN_AdvancedControlNetApply",
      "pos": [
        725,
        409
      ],
      "size": {
        "0": 342.5999755859375,
        "1": 246
      },
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 280,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 282,
          "label": "negative"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 273,
          "label": "control_net"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 279,
          "label": "image"
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "label": "mask_optional"
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "label": "timestep_kf"
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null,
          "label": "latent_kf_override"
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null,
          "label": "weights_override"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            284
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            285
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "negative"
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        0.8,
        0,
        1
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 103,
      "type": "ACN_AdvancedControlNetApply",
      "pos": [
        1652,
        413
      ],
      "size": {
        "0": 342.5999755859375,
        "1": 246
      },
      "flags": {},
      "order": 47,
      "mode": 4,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 256,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 257,
          "label": "negative"
        },
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 228,
          "label": "control_net"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 377,
          "label": "image"
        },
        {
          "name": "mask_optional",
          "type": "MASK",
          "link": null,
          "label": "mask_optional"
        },
        {
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME",
          "link": null,
          "label": "timestep_kf"
        },
        {
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME",
          "link": null,
          "label": "latent_kf_override"
        },
        {
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "link": null,
          "label": "weights_override"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            224
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            225
          ],
          "shape": 3,
          "slot_index": 1,
          "label": "negative"
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [
        0.7000000000000001,
        0,
        1
      ],
      "color": "#233",
      "bgcolor": "#355",
      "serialize_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 164,
      "type": "VHS_VideoCombine",
      "pos": [
        5249,
        575
      ],
      "size": [
        520.2644503980337,
        692.2644503980337
      ],
      "flags": {},
      "order": 57,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 351,
          "label": "images"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "label": "audio"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3,
          "label": "Filenames"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 8,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "image/gif",
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "https://boss.aikobo.cn/aigc-public/42f891454a2aa1a0faf76cb1acffbf74f9c9a03a8143517cd9a714721bbcfd5a.gif",
            "subfolder": "",
            "type": "output",
            "format": "image/gif"
          }
        }
      },
      "serialize_values": [
        null,
        null,
        "AnimateDiff",
        null,
        null,
        null,
        null
      ]
    },
    {
      "id": 106,
      "type": "VAEDecode",
      "pos": [
        2557,
        394.00452413000613
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 227,
          "label": "samples"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": null,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            352,
            379
          ],
          "shape": 3,
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 184,
      "type": "VHS_VideoCombine",
      "pos": [
        2838,
        395
      ],
      "size": [
        520.2644653320312,
        764.2644653320312
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 379,
          "label": "images"
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "link": null,
          "label": "audio"
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null,
          "shape": 3,
          "label": "Filenames"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 8,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "https://boss.aikobo.cn/aigc-public/42f891454a2aa1a0faf76cb1acffbf74f9c9a03a8143517cd9a714721bbcfd5a.gif",
            "subfolder": "",
            "type": "output",
            "format": "image/gif"
          }
        }
      },
      "serialize_values": [
        null,
        null,
        "AnimateDiff",
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    }
  ],
  "links": [
    [
      127,
      56,
      0,
      58,
      0,
      "MOTIONCTRL"
    ],
    [
      134,
      58,
      0,
      59,
      4,
      "CONDITIONING"
    ],
    [
      135,
      58,
      1,
      59,
      5,
      "CONDITIONING"
    ],
    [
      136,
      58,
      2,
      59,
      6,
      "TRAJ_LIST"
    ],
    [
      137,
      58,
      3,
      59,
      7,
      "RT_LIST"
    ],
    [
      138,
      58,
      4,
      59,
      8,
      "TRAJ_FEATURES"
    ],
    [
      139,
      58,
      5,
      59,
      9,
      "RT"
    ],
    [
      140,
      58,
      6,
      59,
      10,
      "NOISE_SHAPE"
    ],
    [
      141,
      48,
      0,
      58,
      1,
      "STRING"
    ],
    [
      142,
      49,
      0,
      58,
      2,
      "STRING"
    ],
    [
      146,
      59,
      0,
      61,
      0,
      "IMAGE"
    ],
    [
      156,
      70,
      0,
      72,
      1,
      "CONTEXT_OPTIONS"
    ],
    [
      178,
      90,
      0,
      85,
      1,
      "SEGS"
    ],
    [
      180,
      87,
      0,
      86,
      0,
      "BASIC_PIPE"
    ],
    [
      186,
      91,
      0,
      90,
      0,
      "BBOX_DETECTOR"
    ],
    [
      187,
      92,
      0,
      90,
      2,
      "SAM_MODEL"
    ],
    [
      188,
      91,
      1,
      90,
      3,
      "SEGM_DETECTOR"
    ],
    [
      189,
      85,
      0,
      93,
      1,
      "SEGS"
    ],
    [
      196,
      100,
      0,
      101,
      2,
      "LORA_STACK"
    ],
    [
      198,
      64,
      0,
      101,
      0,
      "MODEL"
    ],
    [
      200,
      64,
      1,
      101,
      1,
      "CLIP"
    ],
    [
      224,
      103,
      0,
      104,
      1,
      "CONDITIONING"
    ],
    [
      225,
      103,
      1,
      104,
      2,
      "CONDITIONING"
    ],
    [
      227,
      104,
      0,
      106,
      0,
      "LATENT"
    ],
    [
      228,
      108,
      0,
      103,
      2,
      "CONTROL_NET"
    ],
    [
      245,
      121,
      0,
      117,
      2,
      "CONTROL_NET"
    ],
    [
      250,
      122,
      0,
      117,
      3,
      "IMAGE"
    ],
    [
      256,
      117,
      0,
      103,
      0,
      "CONDITIONING"
    ],
    [
      257,
      117,
      1,
      103,
      1,
      "CONDITIONING"
    ],
    [
      273,
      146,
      0,
      142,
      2,
      "CONTROL_NET"
    ],
    [
      279,
      148,
      0,
      142,
      3,
      "IMAGE"
    ],
    [
      280,
      65,
      0,
      142,
      0,
      "CONDITIONING"
    ],
    [
      282,
      66,
      0,
      142,
      1,
      "CONDITIONING"
    ],
    [
      284,
      142,
      0,
      117,
      0,
      "CONDITIONING"
    ],
    [
      285,
      142,
      1,
      117,
      1,
      "CONDITIONING"
    ],
    [
      317,
      60,
      0,
      56,
      0,
      "INT"
    ],
    [
      318,
      60,
      0,
      49,
      0,
      "INT"
    ],
    [
      323,
      56,
      3,
      59,
      3,
      "SAMPLER"
    ],
    [
      324,
      56,
      2,
      59,
      2,
      "VAE"
    ],
    [
      325,
      56,
      1,
      59,
      1,
      "EMBEDDER"
    ],
    [
      326,
      56,
      0,
      59,
      0,
      "MOTIONCTRL"
    ],
    [
      328,
      101,
      1,
      158,
      2,
      "*"
    ],
    [
      329,
      159,
      0,
      158,
      0,
      "*"
    ],
    [
      330,
      101,
      0,
      72,
      0,
      "MODEL"
    ],
    [
      331,
      72,
      0,
      160,
      0,
      "MODEL"
    ],
    [
      342,
      101,
      0,
      158,
      1,
      "*"
    ],
    [
      343,
      138,
      0,
      163,
      0,
      "*"
    ],
    [
      344,
      163,
      0,
      148,
      0,
      "IMAGE"
    ],
    [
      345,
      163,
      0,
      122,
      0,
      "IMAGE"
    ],
    [
      348,
      88,
      0,
      87,
      3,
      "CONDITIONING"
    ],
    [
      349,
      97,
      0,
      87,
      4,
      "CONDITIONING"
    ],
    [
      350,
      86,
      0,
      85,
      2,
      "BASIC_PIPE"
    ],
    [
      351,
      93,
      0,
      164,
      0,
      "IMAGE"
    ],
    [
      352,
      106,
      0,
      165,
      0,
      "*"
    ],
    [
      353,
      165,
      0,
      90,
      1,
      "IMAGE"
    ],
    [
      354,
      59,
      0,
      138,
      0,
      "IMAGE"
    ],
    [
      355,
      166,
      0,
      104,
      3,
      "LATENT"
    ],
    [
      356,
      60,
      0,
      167,
      0,
      "*"
    ],
    [
      357,
      167,
      0,
      166,
      0,
      "INT"
    ],
    [
      358,
      165,
      0,
      168,
      0,
      "*"
    ],
    [
      359,
      168,
      0,
      85,
      0,
      "IMAGE"
    ],
    [
      360,
      168,
      0,
      169,
      0,
      "*"
    ],
    [
      361,
      169,
      0,
      93,
      0,
      "IMAGE"
    ],
    [
      362,
      173,
      0,
      172,
      0,
      "IPADAPTER"
    ],
    [
      363,
      174,
      0,
      172,
      1,
      "CLIP_VISION"
    ],
    [
      364,
      175,
      0,
      172,
      2,
      "INSIGHTFACE"
    ],
    [
      365,
      176,
      0,
      172,
      3,
      "IMAGE"
    ],
    [
      367,
      178,
      0,
      177,
      0,
      "BBOX_DETECTOR"
    ],
    [
      368,
      178,
      1,
      177,
      3,
      "SEGM_DETECTOR"
    ],
    [
      370,
      180,
      0,
      177,
      2,
      "SAM_MODEL"
    ],
    [
      371,
      176,
      0,
      177,
      1,
      "IMAGE"
    ],
    [
      372,
      177,
      0,
      181,
      0,
      "SEGS"
    ],
    [
      373,
      181,
      0,
      172,
      5,
      "MASK"
    ],
    [
      374,
      172,
      0,
      171,
      0,
      "MODEL"
    ],
    [
      375,
      160,
      0,
      182,
      0,
      "*"
    ],
    [
      376,
      182,
      0,
      172,
      4,
      "MODEL"
    ],
    [
      377,
      183,
      0,
      103,
      3,
      "IMAGE"
    ],
    [
      378,
      163,
      0,
      183,
      0,
      "IMAGE"
    ],
    [
      379,
      106,
      0,
      184,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "1.基础Motion Control生成",
      "bounding": [
        -738,
        -915,
        1966,
        854
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "2.3加载模型",
      "bounding": [
        -450,
        265,
        1081,
        820
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "2.2加载AnimateDiff",
      "bounding": [
        -448,
        -44,
        1077,
        299
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "4修脸",
      "bounding": [
        3510,
        268,
        2285,
        1154
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Group",
      "bounding": [
        635,
        266,
        1469,
        760
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Group",
      "bounding": [
        2107,
        264,
        1398,
        999
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Group",
      "bounding": [
        2523,
        -493,
        2170,
        675
      ],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {},
  "version": 0.4
}